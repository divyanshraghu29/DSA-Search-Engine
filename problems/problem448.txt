b"\nRead problem statements in Hindi, Bengali, Mandarin Chinese, Russian, and Vietnamese as well.\nYou are given $N$ sets of integers $A_1, A_2, \\ldots, A_N$. For each valid $i$, let's denote the elements of the set $A_i$ by $\\{c_{i,1}, c_{i,2}, \\ldots, c_{i,|A_i|}\\}$.\nFind the number of ways to choose a sequence $(a_1, a_2, \\ldots, a_N)$ such that:\n\n$a_i \\in A_i$ for each valid $i$\n$a_i \\neq a_{i+1}$ for each valid $i$ and $a_1 \\neq a_N$\n\nSince this number may be large, compute it modulo $998,244,353$.\nInput\n\nThe first line of the input contains a single integer $N$.\n$N$ lines follow. For each valid $i$, the $i$-th of these lines contains an integer $|A_i|$ followed by a space and $|A_i|$ space-separated non-negative integers $c_{i,1}, c_{i,2}, \\ldots, c_{i,|A_i|}$.\n\nOutput\nPrint a single line containing one integer \xe2\x80\x95 the number of ways to choose $(a_1, a_2, \\ldots, a_N)$, modulo $998,244,353$.\nConstraints\n\n$2 \\le N \\le 200,000$\n$|A_i| \\ge 1$ for each valid $i$\n$|A_1| + |A_2| + \\ldots + |A_N| \\le 200,000$\n$1 \\le c_{i,j} \\le 200000$ for each valid $i, j$\n\nSubtasks\nSubtask #1 (20 points): $N \\le 100$\nSubtask #2 (80 points): original constraints\n\n                        Sample Input 1\n                        \n\n\n\n\n\n3\n3 1 2 3\n2 1 2\n2 2 3\n\n\n\n                        Sample Output 1\n                        \n\n\n\n\n\n3\n\n\nExplanation\nThere are three possible sequences: $(1, 2, 3)$, $(2, 1, 3)$ and $(3, 1, 2)$.\n\n\n\nAuthor:\nildar_adm\n\n\nEditorial:\nhttps://discuss.codechef.com/problems/CIRCOLOR\n\n\nTags:\n\n               \n                 Square Root Decomposition, Dynamic Programming\n                 \n                     \n                     Advanced Algorithms, Algorithms\n                 \n               \n             \n             \n\n\n\n                        Difficulty Rating:\n                    \n\n3104\n\n\nDate Added:\n27-11-2020\n\n\nTime Limit:\n1 secs\n\n\nSource Limit:\n50000 Bytes\n\n\nLanguages:\nCPP17, PYTH 3.6, JAVA, C, CPP14, PYTH, PYP3, CS2, ADA, PYPY, TEXT, PAS fpc, NODEJS, RUBY, PHP, GO, HASK, TCL, kotlin, PERL, SCALA, LUA, BASH, JS, rust, LISP sbcl, PAS gpc, BF, CLOJ, R, D, CAML, swift, FORT, ASM, FS, WSPC, LISP clisp, SQL, SCM guile, PERL6, ERL, CLPS, PRLG, SQLQ, ICK, NICE, ICON, COB, SCM chicken, PIKE, SCM qobi, ST, NEM\n\n\n\n\n\nSubmit\n\n"